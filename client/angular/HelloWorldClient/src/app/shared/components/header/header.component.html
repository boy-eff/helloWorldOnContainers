<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top px-3">
  <a class="navbar-brand" routerLink="/">HelloWorldOnContainers</a>
  <button class="navbar-toggler" type="button" (click)="isCollapsed = !isCollapsed">
    <img src="{{user?.imageUrl !== null ? user?.imageUrl : 'assets/default-avatar.jpg'}}" alt="user photo"
      class="rounded-circle mr-2" width="40" height="40">
    <span></span>
  </button>
  <ng-container *ngIf="user; else unauthorizedBlock">
    <div class="navbar-collapse justify-content-between" id="navbarContent" [ngbCollapse]="isCollapsed">
      <ul class="navbar-nav" *ngIf="user">
        <li class="nav-item">
          <a class="nav-link" routerLink="/achievements">Achievements</a>
        </li>
      </ul>
      <ul class="navbar-nav d-lg-none">
        <li class="nav-item">
          <a class="nav-link" routerLink="/account">Account Settings</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/login" (click)="logout()">Log Out</a>
        </li>
      </ul>
      <ul class="navbar-nav d-none d-lg-flex">
        <li class="nav-item" ngbDropdown>
          <button id="dropdownMenuButton" class="btn btn-link" ngbDropdownToggle>
            <img src="{{user.imageUrl !== null ? user.imageUrl : 'assets/default-avatar.jpg'}}" alt="user photo"
              class="rounded-circle mr-2" width="40" height="40">
            <span></span>
          </button>
          <div ngbDropdownMenu aria-labelledby="dropdownMenuButton" class="ml-n4">
            <a ngbDropdownItem routerLink="/account">Account Settings</a>
            <a ngbDropdownItem routerLink="/login" (click)="logout()">Log Out</a>
          </div>
        </li>
      </ul>
    </div>
  </ng-container>
</nav>

<ng-template #unauthorizedBlock>
  <div class="navbar-collapse justify-content-end" id="navbarContentUnauthorized" [ngbCollapse]="isCollapsed">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" routerLink="/login">Login</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLink="/register">Register</a>
      </li>
    </ul>
  </div>
</ng-template>